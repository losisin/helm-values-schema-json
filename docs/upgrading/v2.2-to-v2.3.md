# Upgrade `helm schema` from v2.2 to v2.3

Upgrading from any v2.2.x version to v2.3.0.

## Helm `global` values

Change in schema output.

When using a Helm dependency, during `helm template` Helm will inject a special
`global` property. If the dependency also disallows additional properties then
templating results in an error:

```console
$ helm template ./chartB
Error: values don't meet the specifications of the schema(s) in the following chart(s):
chartA:
- (root): Additional property global is not allowed
```

Since v2.3.0 of `helm schema`, the plugin will now inject the following
property:

```json
"global": {
    "description": "Global values shared between all subcharts",
    "$comment": "Added automatically by 'helm schema' to allow this chart to be used as a Helm dependency, as the `additionalProperties` setting would otherwise collide with Helm's special 'global' values key.",
    "type": [
        "object",
        "null"
    ]
},
```

But only if all of the following conditions are met:

- `/properties/global` is not already set
- `/additionalProperties` is not `null`/unset
- `/additionalProperties` is not `true`
- `/additionalProperties/type` is not `null`/unset
- `/additionalProperties/type` does not contain `object`

See also: <https://helm.sh/docs/chart_template_guide/subcharts_and_globals/>
